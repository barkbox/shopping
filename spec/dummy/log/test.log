  [1m[36m (3.7ms)[0m  [1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "price" float, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "sku" varchar) [0m
  [1m[35m (2.3ms)[0m  CREATE TABLE "shopping_carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_id" integer, "purchased_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "shopping_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "source_id" integer, "source_type" varchar, "quantity" integer, "list_price" decimal, "sale_price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170526174702')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170116191116')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "price" float, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "sku" varchar) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "shopping_carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_id" integer, "purchased_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "shopping_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "source_id" integer, "source_type" varchar, "quantity" integer, "list_price" decimal, "sale_price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (2.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170526174702')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170116191116')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "price" float, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "sku" varchar) [0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "shopping_carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_id" integer, "purchased_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "shopping_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "source_id" integer, "source_type" varchar, "quantity" integer, "list_price" decimal, "sale_price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170526174702')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170116191116')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "price" float, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "sku" varchar) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "shopping_carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_id" integer, "purchased_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "shopping_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "source_id" integer, "source_type" varchar, "quantity" integer, "list_price" decimal, "sale_price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170526174702')
  [1m[36m (2.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170116191116')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "price" float, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "sku" varchar) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "shopping_carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_id" integer, "purchased_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "shopping_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "source_id" integer, "source_type" varchar, "quantity" integer, "list_price" decimal, "sale_price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170526174702')
  [1m[36m (2.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170116191116')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateShoppingCarts (20161117190337)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "shopping_carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_id" integer, "purchased_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (2.2ms)[0m  [1mCREATE TABLE "items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "price" float, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "sku" varchar) [0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "shopping_carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_id" integer, "purchased_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "shopping_line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "source_id" integer, "source_type" varchar, "quantity" integer, "list_price" decimal, "sale_price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170526174702')
  [1m[36m (3.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170116191116')[0m
  [1m[35m (3.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20161117190337')
  [1m[36m (2.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20161117190410')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:34:44.624148"], ["updated_at", "2017-06-07 20:34:44.624148"]]
  [1m[36m (1.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:44.635146"], ["updated_at", "2017-06-07 20:34:44.635146"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 1], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 1], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:34:44.666989"], ["updated_at", "2017-06-07 20:34:44.666989"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/v1/carts/9999" for 127.0.0.1 at 2017-06-07 16:34:44 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"id"=>"9999"}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::CartsController:0x007f81cfa59878> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:20:in `show'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:25:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:58:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:12:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/carts_controller_spec.rb:90:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 24ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 2], ["created_at", "2017-06-07 20:34:44.777745"], ["updated_at", "2017-06-07 20:34:44.777745"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:44.779697"], ["updated_at", "2017-06-07 20:34:44.779697"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 2], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 2], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:34:44.783003"], ["updated_at", "2017-06-07 20:34:44.783003"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/v1/carts/1?include=line_items" for 127.0.0.1 at 2017-06-07 16:34:44 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"include"=>"line_items", "id"=>"1"}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::CartsController:0x007f81d0959058> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:20:in `show'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:25:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:58:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:12:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/carts_controller_spec.rb:77:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 14ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 3], ["created_at", "2017-06-07 20:34:44.808893"], ["updated_at", "2017-06-07 20:34:44.808893"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:44.812028"], ["updated_at", "2017-06-07 20:34:44.812028"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 3], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 3], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:34:44.817013"], ["updated_at", "2017-06-07 20:34:44.817013"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/v1/carts/1" for 127.0.0.1 at 2017-06-07 16:34:44 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"id"=>"1"}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::CartsController:0x007f81cff7e600> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:20:in `show'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:25:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:58:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:12:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/carts_controller_spec.rb:28:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 14ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (5.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 4], ["created_at", "2017-06-07 20:34:44.852713"], ["updated_at", "2017-06-07 20:34:44.852713"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:44.854525"], ["updated_at", "2017-06-07 20:34:44.854525"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 5], ["created_at", "2017-06-07 20:34:44.856132"], ["updated_at", "2017-06-07 20:34:44.856132"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 6], ["created_at", "2017-06-07 20:34:44.870459"], ["updated_at", "2017-06-07 20:34:44.870459"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:44.882470"], ["updated_at", "2017-06-07 20:34:44.882470"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 7], ["created_at", "2017-06-07 20:34:44.895108"], ["updated_at", "2017-06-07 20:34:44.895108"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:44.898217"], ["updated_at", "2017-06-07 20:34:44.898217"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 8], ["purchased_at", "2017-06-06 20:34:44.899791"], ["created_at", "2017-06-07 20:34:44.902808"], ["updated_at", "2017-06-07 20:34:44.902808"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 9], ["created_at", "2017-06-07 20:34:44.916805"], ["updated_at", "2017-06-07 20:34:44.916805"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:44.918928"], ["updated_at", "2017-06-07 20:34:44.918928"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 10], ["created_at", "2017-06-07 20:34:44.928994"], ["updated_at", "2017-06-07 20:34:44.928994"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:44.933209"], ["updated_at", "2017-06-07 20:34:44.933209"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 11], ["created_at", "2017-06-07 20:34:44.938869"], ["updated_at", "2017-06-07 20:34:44.938869"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 9], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:44.946067"], ["updated_at", "2017-06-07 20:34:44.946067"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 9], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["source_id", 9], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 2], ["list_price", 5.0], ["created_at", "2017-06-07 20:34:44.969663"], ["updated_at", "2017-06-07 20:34:44.969663"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 12], ["created_at", "2017-06-07 20:34:44.984753"], ["updated_at", "2017-06-07 20:34:44.984753"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 10], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:44.986755"], ["updated_at", "2017-06-07 20:34:44.986755"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 13], ["created_at", "2017-06-07 20:34:44.988612"], ["updated_at", "2017-06-07 20:34:44.988612"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 11], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:44.989998"], ["updated_at", "2017-06-07 20:34:44.989998"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 11], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["source_id", 11], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 3], ["list_price", 5.0], ["created_at", "2017-06-07 20:34:44.995311"], ["updated_at", "2017-06-07 20:34:44.995311"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 14], ["created_at", "2017-06-07 20:34:45.015237"], ["updated_at", "2017-06-07 20:34:45.015237"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 12], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.017767"], ["updated_at", "2017-06-07 20:34:45.017767"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 15], ["created_at", "2017-06-07 20:34:45.022470"], ["updated_at", "2017-06-07 20:34:45.022470"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 13], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.025399"], ["updated_at", "2017-06-07 20:34:45.025399"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 16], ["created_at", "2017-06-07 20:34:45.029510"], ["updated_at", "2017-06-07 20:34:45.029510"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 13], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 13], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:34:45.032680"], ["updated_at", "2017-06-07 20:34:45.032680"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:34:45.035069"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.1ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 13], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["source_id", 13], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 17], ["created_at", "2017-06-07 20:34:45.052934"], ["updated_at", "2017-06-07 20:34:45.052934"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 14], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.054924"], ["updated_at", "2017-06-07 20:34:45.054924"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 14], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["source_id", 14], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:34:45.057855"], ["updated_at", "2017-06-07 20:34:45.057855"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items"
Started DELETE "/api/v1/line_items/1" for 127.0.0.1 at 2017-06-07 16:34:45 -0400
Processing by Shopping::LineItemsController#destroy as HTML
  Parameters: {"id"=>"1"}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::LineItemsController:0x007f81d20c1ec0> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:48:in `destroy'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:94:in `delete'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:24:in `delete'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:122:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 19ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 18], ["created_at", "2017-06-07 20:34:45.107397"], ["updated_at", "2017-06-07 20:34:45.107397"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 15], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.109562"], ["updated_at", "2017-06-07 20:34:45.109562"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/v1/line_items" for 127.0.0.1 at 2017-06-07 16:34:45 -0400
Processing by Shopping::LineItemsController#create as HTML
  Parameters: {"data"=>{"attributes"=>{"cart_id"=>1, "source_id"=>15, "source_type"=>"Item"}, "type"=>"line_items"}}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::LineItemsController:0x007f81d2101868> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:67:in `post'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:16:in `post'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:53:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 25ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 19], ["created_at", "2017-06-07 20:34:45.153125"], ["updated_at", "2017-06-07 20:34:45.153125"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 16], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.156249"], ["updated_at", "2017-06-07 20:34:45.156249"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 16], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 16], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:34:45.172721"], ["updated_at", "2017-06-07 20:34:45.172721"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/v1/line_items/1" for 127.0.0.1 at 2017-06-07 16:34:45 -0400
Processing by Shopping::LineItemsController#update as HTML
  Parameters: {"data"=>{"id"=>1, "type"=>"line_items", "attributes"=>{"quantity"=>2}}, "id"=>"1"}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::LineItemsController:0x007f81cd2f12b8> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:44:in `update'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:76:in `put'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:20:in `put'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:102:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 24ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 20], ["created_at", "2017-06-07 20:34:45.211585"], ["updated_at", "2017-06-07 20:34:45.211585"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 17], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.215895"], ["updated_at", "2017-06-07 20:34:45.215895"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 17], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["cart_id", 1], ["source_id", 17], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:34:45.228694"], ["updated_at", "2017-06-07 20:34:45.228694"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 17], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["source_id", 17], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (5.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 21], ["created_at", "2017-06-07 20:34:45.253027"], ["updated_at", "2017-06-07 20:34:45.253027"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 18], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.257163"], ["updated_at", "2017-06-07 20:34:45.257163"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" IS NULL  [["source_id", 18], ["source_type", "Item"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 22], ["created_at", "2017-06-07 20:34:45.272876"], ["updated_at", "2017-06-07 20:34:45.272876"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 19], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.279544"], ["updated_at", "2017-06-07 20:34:45.279544"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 19], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 19], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 19], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 0], ["cart_id", 1], ["source_id", 19], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:34:45.288164"], ["updated_at", "2017-06-07 20:34:45.288164"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 23], ["created_at", "2017-06-07 20:34:45.303776"], ["updated_at", "2017-06-07 20:34:45.303776"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 20], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.312330"], ["updated_at", "2017-06-07 20:34:45.312330"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."source_id" IS NULL AND "shopping_line_items"."source_type" IS NULL[0m  [["cart_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (4.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 24], ["created_at", "2017-06-07 20:34:45.336891"], ["updated_at", "2017-06-07 20:34:45.336891"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 21], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.340240"], ["updated_at", "2017-06-07 20:34:45.340240"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (5.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 25], ["created_at", "2017-06-07 20:34:45.357694"], ["updated_at", "2017-06-07 20:34:45.357694"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 22], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.362946"], ["updated_at", "2017-06-07 20:34:45.362946"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 26], ["purchased_at", "2017-06-06 20:34:45.365925"], ["created_at", "2017-06-07 20:34:45.367879"], ["updated_at", "2017-06-07 20:34:45.367879"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 27], ["created_at", "2017-06-07 20:34:45.383330"], ["updated_at", "2017-06-07 20:34:45.383330"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 23], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.385816"], ["updated_at", "2017-06-07 20:34:45.385816"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 28], ["created_at", "2017-06-07 20:34:45.400737"], ["updated_at", "2017-06-07 20:34:45.400737"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 24], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.404554"], ["updated_at", "2017-06-07 20:34:45.404554"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (4.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 29], ["created_at", "2017-06-07 20:34:45.419876"], ["updated_at", "2017-06-07 20:34:45.419876"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 25], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.428438"], ["updated_at", "2017-06-07 20:34:45.428438"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 30], ["created_at", "2017-06-07 20:34:45.430514"], ["updated_at", "2017-06-07 20:34:45.430514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 26], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.432487"], ["updated_at", "2017-06-07 20:34:45.432487"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 31], ["created_at", "2017-06-07 20:34:45.435043"], ["updated_at", "2017-06-07 20:34:45.435043"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 26], ["source_type", "Item"], ["cart_id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["cart_id", 3], ["source_id", 26], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:34:45.438079"], ["updated_at", "2017-06-07 20:34:45.438079"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["cart_id", 2], ["updated_at", "2017-06-07 20:34:45.439923"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::Cart Load (0.0ms)[0m  SELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 26 LIMIT 1[0m  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shopping_line_items" SET "quantity" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2017-06-07 20:34:45.443345"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.0ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mItem Load (0.2ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1  [["id", 26]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 32], ["created_at", "2017-06-07 20:34:45.464555"], ["updated_at", "2017-06-07 20:34:45.464555"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 27], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.477962"], ["updated_at", "2017-06-07 20:34:45.477962"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 33], ["created_at", "2017-06-07 20:34:45.483805"], ["updated_at", "2017-06-07 20:34:45.483805"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 28], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.486134"], ["updated_at", "2017-06-07 20:34:45.486134"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 34], ["created_at", "2017-06-07 20:34:45.489151"], ["updated_at", "2017-06-07 20:34:45.489151"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 28], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 28], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:34:45.492240"], ["updated_at", "2017-06-07 20:34:45.492240"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:34:45.494198"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.1ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 35], ["created_at", "2017-06-07 20:34:45.510967"], ["updated_at", "2017-06-07 20:34:45.510967"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 29], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.519738"], ["updated_at", "2017-06-07 20:34:45.519738"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 36], ["created_at", "2017-06-07 20:34:45.528693"], ["updated_at", "2017-06-07 20:34:45.528693"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 30], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:34:45.536229"], ["updated_at", "2017-06-07 20:34:45.536229"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 30 LIMIT 1  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:37:26.548353"], ["updated_at", "2017-06-07 20:37:26.548353"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:37:26.557991"], ["updated_at", "2017-06-07 20:37:26.557991"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 2], ["created_at", "2017-06-07 20:37:26.561066"], ["updated_at", "2017-06-07 20:37:26.561066"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2017-06-07 20:37:26.573156"], ["updated_at", "2017-06-07 20:37:26.573156"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:37:26.574900"], ["updated_at", "2017-06-07 20:37:26.574900"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 4], ["created_at", "2017-06-07 20:37:26.583880"], ["updated_at", "2017-06-07 20:37:26.583880"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:37:26.585597"], ["updated_at", "2017-06-07 20:37:26.585597"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 5], ["created_at", "2017-06-07 20:37:26.592953"], ["updated_at", "2017-06-07 20:37:26.592953"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:37:26.594840"], ["updated_at", "2017-06-07 20:37:26.594840"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 6], ["purchased_at", "2017-06-06 20:37:26.596237"], ["created_at", "2017-06-07 20:37:26.598752"], ["updated_at", "2017-06-07 20:37:26.598752"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 7], ["created_at", "2017-06-07 20:37:26.605909"], ["updated_at", "2017-06-07 20:37:26.605909"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:37:26.607655"], ["updated_at", "2017-06-07 20:37:26.607655"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 8], ["created_at", "2017-06-07 20:37:26.609299"], ["updated_at", "2017-06-07 20:37:26.609299"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:37:26.611163"], ["updated_at", "2017-06-07 20:37:26.611163"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 6], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["source_id", 6], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 2], ["list_price", 5.0], ["created_at", "2017-06-07 20:37:26.656454"], ["updated_at", "2017-06-07 20:37:26.656454"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 9], ["created_at", "2017-06-07 20:37:26.706074"], ["updated_at", "2017-06-07 20:37:26.706074"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:37:26.708097"], ["updated_at", "2017-06-07 20:37:26.708097"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 10], ["created_at", "2017-06-07 20:37:26.710461"], ["updated_at", "2017-06-07 20:37:26.710461"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:37:26.712260"], ["updated_at", "2017-06-07 20:37:26.712260"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 8], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["source_id", 8], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 3], ["list_price", 5.0], ["created_at", "2017-06-07 20:37:26.715720"], ["updated_at", "2017-06-07 20:37:26.715720"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.0ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 11], ["created_at", "2017-06-07 20:37:26.723451"], ["updated_at", "2017-06-07 20:37:26.723451"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 9], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:37:26.725210"], ["updated_at", "2017-06-07 20:37:26.725210"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 12], ["created_at", "2017-06-07 20:37:26.726851"], ["updated_at", "2017-06-07 20:37:26.726851"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 10], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:37:26.729409"], ["updated_at", "2017-06-07 20:37:26.729409"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 13], ["created_at", "2017-06-07 20:37:26.732251"], ["updated_at", "2017-06-07 20:37:26.732251"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 10], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 10], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:37:26.734869"], ["updated_at", "2017-06-07 20:37:26.734869"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:37:26.736606"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.1ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 10], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mShopping::LineItem Load (5.9ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["source_id", 10], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:38:46.768375"], ["updated_at", "2017-06-07 20:38:46.768375"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:38:46.775870"], ["updated_at", "2017-06-07 20:38:46.775870"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 2], ["created_at", "2017-06-07 20:38:46.801849"], ["updated_at", "2017-06-07 20:38:46.801849"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:38:46.804637"], ["updated_at", "2017-06-07 20:38:46.804637"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 3], ["created_at", "2017-06-07 20:38:46.809642"], ["updated_at", "2017-06-07 20:38:46.809642"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 4], ["created_at", "2017-06-07 20:38:46.822392"], ["updated_at", "2017-06-07 20:38:46.822392"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:38:46.824610"], ["updated_at", "2017-06-07 20:38:46.824610"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 5], ["purchased_at", "2017-06-06 20:38:46.825996"], ["created_at", "2017-06-07 20:38:46.827076"], ["updated_at", "2017-06-07 20:38:46.827076"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 6], ["created_at", "2017-06-07 20:38:46.836942"], ["updated_at", "2017-06-07 20:38:46.836942"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:38:46.838846"], ["updated_at", "2017-06-07 20:38:46.838846"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 7], ["created_at", "2017-06-07 20:38:46.851186"], ["updated_at", "2017-06-07 20:38:46.851186"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:38:46.853220"], ["updated_at", "2017-06-07 20:38:46.853220"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 8], ["created_at", "2017-06-07 20:38:46.855083"], ["updated_at", "2017-06-07 20:38:46.855083"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:38:46.857034"], ["updated_at", "2017-06-07 20:38:46.857034"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 9], ["created_at", "2017-06-07 20:38:46.891361"], ["updated_at", "2017-06-07 20:38:46.891361"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 6], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 6], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:38:46.910115"], ["updated_at", "2017-06-07 20:38:46.910115"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:38:46.912396"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.1ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 6], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.2ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["source_id", 6], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 10], ["created_at", "2017-06-07 20:38:46.926328"], ["updated_at", "2017-06-07 20:38:46.926328"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:38:46.928425"], ["updated_at", "2017-06-07 20:38:46.928425"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 11], ["created_at", "2017-06-07 20:38:46.930515"], ["updated_at", "2017-06-07 20:38:46.930515"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:38:46.932425"], ["updated_at", "2017-06-07 20:38:46.932425"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 8], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 8], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 2], ["list_price", 5.0], ["created_at", "2017-06-07 20:38:46.936595"], ["updated_at", "2017-06-07 20:38:46.936595"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 12], ["created_at", "2017-06-07 20:38:46.988215"], ["updated_at", "2017-06-07 20:38:46.988215"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 9], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:38:46.990157"], ["updated_at", "2017-06-07 20:38:46.990157"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 13], ["created_at", "2017-06-07 20:38:46.992157"], ["updated_at", "2017-06-07 20:38:46.992157"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 10], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:38:46.994321"], ["updated_at", "2017-06-07 20:38:46.994321"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 10], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 10], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 3], ["list_price", 5.0], ["created_at", "2017-06-07 20:38:46.997972"], ["updated_at", "2017-06-07 20:38:46.997972"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.0ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:48:01.119203"], ["updated_at", "2017-06-07 20:48:01.119203"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:48:01.127562"], ["updated_at", "2017-06-07 20:48:01.127562"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 2], ["purchased_at", "2017-06-06 20:48:01.129463"], ["created_at", "2017-06-07 20:48:01.132092"], ["updated_at", "2017-06-07 20:48:01.132092"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2017-06-07 20:48:01.155234"], ["updated_at", "2017-06-07 20:48:01.155234"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:48:01.157483"], ["updated_at", "2017-06-07 20:48:01.157483"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 4], ["created_at", "2017-06-07 20:48:01.167729"], ["updated_at", "2017-06-07 20:48:01.167729"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:48:01.169877"], ["updated_at", "2017-06-07 20:48:01.169877"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 5], ["created_at", "2017-06-07 20:48:01.172016"], ["updated_at", "2017-06-07 20:48:01.172016"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 6], ["created_at", "2017-06-07 20:48:01.180225"], ["updated_at", "2017-06-07 20:48:01.180225"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:48:01.183030"], ["updated_at", "2017-06-07 20:48:01.183030"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 7], ["created_at", "2017-06-07 20:48:01.193412"], ["updated_at", "2017-06-07 20:48:01.193412"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:48:01.195719"], ["updated_at", "2017-06-07 20:48:01.195719"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 8], ["created_at", "2017-06-07 20:48:01.198090"], ["updated_at", "2017-06-07 20:48:01.198090"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:48:01.200050"], ["updated_at", "2017-06-07 20:48:01.200050"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 9], ["created_at", "2017-06-07 20:48:01.233814"], ["updated_at", "2017-06-07 20:48:01.233814"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 6], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 6], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:48:01.251217"], ["updated_at", "2017-06-07 20:48:01.251217"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:48:01.253554"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.2ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 6], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["source_id", 6], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 10], ["created_at", "2017-06-07 20:48:01.267860"], ["updated_at", "2017-06-07 20:48:01.267860"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:48:01.270419"], ["updated_at", "2017-06-07 20:48:01.270419"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 11], ["created_at", "2017-06-07 20:48:01.272480"], ["updated_at", "2017-06-07 20:48:01.272480"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:48:01.275303"], ["updated_at", "2017-06-07 20:48:01.275303"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 8], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 8], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 2], ["list_price", 5.0], ["created_at", "2017-06-07 20:48:01.279222"], ["updated_at", "2017-06-07 20:48:01.279222"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 12], ["created_at", "2017-06-07 20:48:01.325989"], ["updated_at", "2017-06-07 20:48:01.325989"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 9], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:48:01.327904"], ["updated_at", "2017-06-07 20:48:01.327904"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 13], ["created_at", "2017-06-07 20:48:01.329622"], ["updated_at", "2017-06-07 20:48:01.329622"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 10], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:48:01.331635"], ["updated_at", "2017-06-07 20:48:01.331635"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 10], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 10], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 3], ["list_price", 5.0], ["created_at", "2017-06-07 20:48:01.335253"], ["updated_at", "2017-06-07 20:48:01.335253"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.0ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (2.9ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:49:21.465248"], ["updated_at", "2017-06-07 20:49:21.465248"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:21.476526"], ["updated_at", "2017-06-07 20:49:21.476526"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 2], ["purchased_at", "2017-06-06 20:49:21.477898"], ["created_at", "2017-06-07 20:49:21.480456"], ["updated_at", "2017-06-07 20:49:21.480456"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2017-06-07 20:49:21.505312"], ["updated_at", "2017-06-07 20:49:21.505312"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:21.507701"], ["updated_at", "2017-06-07 20:49:21.507701"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 4], ["created_at", "2017-06-07 20:49:21.517693"], ["updated_at", "2017-06-07 20:49:21.517693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:21.520052"], ["updated_at", "2017-06-07 20:49:21.520052"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 5], ["created_at", "2017-06-07 20:49:21.528740"], ["updated_at", "2017-06-07 20:49:21.528740"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:21.531940"], ["updated_at", "2017-06-07 20:49:21.531940"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 6], ["created_at", "2017-06-07 20:49:21.535976"], ["updated_at", "2017-06-07 20:49:21.535976"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 7], ["created_at", "2017-06-07 20:49:21.547166"], ["updated_at", "2017-06-07 20:49:21.547166"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:21.550631"], ["updated_at", "2017-06-07 20:49:21.550631"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 8], ["created_at", "2017-06-07 20:49:21.552755"], ["updated_at", "2017-06-07 20:49:21.552755"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:21.554404"], ["updated_at", "2017-06-07 20:49:21.554404"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 6], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["source_id", 6], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 1], ["list_price", 5.0], ["created_at", "2017-06-07 20:49:21.600639"], ["updated_at", "2017-06-07 20:49:21.600639"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mItem Load (0.1ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 9], ["created_at", "2017-06-07 20:49:21.619521"], ["updated_at", "2017-06-07 20:49:21.619521"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:21.622180"], ["updated_at", "2017-06-07 20:49:21.622180"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 10], ["created_at", "2017-06-07 20:49:21.624442"], ["updated_at", "2017-06-07 20:49:21.624442"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:21.626737"], ["updated_at", "2017-06-07 20:49:21.626737"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 8], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 8], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 2], ["list_price", 5.0], ["created_at", "2017-06-07 20:49:21.630825"], ["updated_at", "2017-06-07 20:49:21.630825"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 11], ["created_at", "2017-06-07 20:49:21.641659"], ["updated_at", "2017-06-07 20:49:21.641659"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 9], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:21.643930"], ["updated_at", "2017-06-07 20:49:21.643930"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 12], ["created_at", "2017-06-07 20:49:21.646132"], ["updated_at", "2017-06-07 20:49:21.646132"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 10], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:21.648166"], ["updated_at", "2017-06-07 20:49:21.648166"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 13], ["created_at", "2017-06-07 20:49:21.652248"], ["updated_at", "2017-06-07 20:49:21.652248"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 10], ["source_type", "Item"], ["cart_id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["cart_id", 3], ["source_id", 10], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:49:21.656637"], ["updated_at", "2017-06-07 20:49:21.656637"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["cart_id", 2], ["updated_at", "2017-06-07 20:49:21.658799"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::Cart Load (0.1ms)[0m  SELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 10], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.3ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["source_id", 10], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:49:36.143931"], ["updated_at", "2017-06-07 20:49:36.143931"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:36.155199"], ["updated_at", "2017-06-07 20:49:36.155199"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 2], ["created_at", "2017-06-07 20:49:36.178891"], ["updated_at", "2017-06-07 20:49:36.178891"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:36.181448"], ["updated_at", "2017-06-07 20:49:36.181448"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 3], ["created_at", "2017-06-07 20:49:36.192050"], ["updated_at", "2017-06-07 20:49:36.192050"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:36.194234"], ["updated_at", "2017-06-07 20:49:36.194234"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 4], ["created_at", "2017-06-07 20:49:36.240741"], ["updated_at", "2017-06-07 20:49:36.240741"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:36.242943"], ["updated_at", "2017-06-07 20:49:36.242943"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 5], ["purchased_at", "2017-06-06 20:49:36.244430"], ["created_at", "2017-06-07 20:49:36.245577"], ["updated_at", "2017-06-07 20:49:36.245577"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 6], ["created_at", "2017-06-07 20:49:36.253591"], ["updated_at", "2017-06-07 20:49:36.253591"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:36.256404"], ["updated_at", "2017-06-07 20:49:36.256404"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 7], ["created_at", "2017-06-07 20:49:36.258476"], ["updated_at", "2017-06-07 20:49:36.258476"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:36.260829"], ["updated_at", "2017-06-07 20:49:36.260829"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 8], ["created_at", "2017-06-07 20:49:36.288418"], ["updated_at", "2017-06-07 20:49:36.288418"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 6], ["source_type", "Item"], ["cart_id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["cart_id", 3], ["source_id", 6], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:49:36.306671"], ["updated_at", "2017-06-07 20:49:36.306671"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["cart_id", 2], ["updated_at", "2017-06-07 20:49:36.309079"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::Cart Load (0.1ms)[0m  SELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 9], ["created_at", "2017-06-07 20:49:36.318291"], ["updated_at", "2017-06-07 20:49:36.318291"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:36.320643"], ["updated_at", "2017-06-07 20:49:36.320643"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 10], ["created_at", "2017-06-07 20:49:36.322669"], ["updated_at", "2017-06-07 20:49:36.322669"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:36.325171"], ["updated_at", "2017-06-07 20:49:36.325171"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 11], ["created_at", "2017-06-07 20:49:36.327851"], ["updated_at", "2017-06-07 20:49:36.327851"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 8], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 8], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:49:36.330834"], ["updated_at", "2017-06-07 20:49:36.330834"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:49:36.332658"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.1ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 8 LIMIT 1  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shopping_line_items" SET "quantity" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["quantity", 5], ["updated_at", "2017-06-07 20:49:36.339571"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.2ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.0ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 12], ["created_at", "2017-06-07 20:49:36.357864"], ["updated_at", "2017-06-07 20:49:36.357864"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 9], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:36.359586"], ["updated_at", "2017-06-07 20:49:36.359586"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 13], ["created_at", "2017-06-07 20:49:36.361471"], ["updated_at", "2017-06-07 20:49:36.361471"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 10], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:49:36.364400"], ["updated_at", "2017-06-07 20:49:36.364400"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::LineItem Load (0.3ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 10 LIMIT 1  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (4.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "items";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.6ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (2.4ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.3ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:50:04.965045"], ["updated_at", "2017-06-07 20:50:04.965045"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:50:04.970883"], ["updated_at", "2017-06-07 20:50:04.970883"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 2], ["purchased_at", "2017-06-06 20:50:04.972196"], ["created_at", "2017-06-07 20:50:04.973027"], ["updated_at", "2017-06-07 20:50:04.973027"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2017-06-07 20:50:04.994032"], ["updated_at", "2017-06-07 20:50:04.994032"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:50:04.996872"], ["updated_at", "2017-06-07 20:50:04.996872"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (4.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 4], ["created_at", "2017-06-07 20:50:05.011039"], ["updated_at", "2017-06-07 20:50:05.011039"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:50:05.013065"], ["updated_at", "2017-06-07 20:50:05.013065"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 5], ["created_at", "2017-06-07 20:50:05.046033"], ["updated_at", "2017-06-07 20:50:05.046033"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:50:05.048430"], ["updated_at", "2017-06-07 20:50:05.048430"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 6], ["created_at", "2017-06-07 20:50:05.060836"], ["updated_at", "2017-06-07 20:50:05.060836"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:50:05.062947"], ["updated_at", "2017-06-07 20:50:05.062947"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 7], ["created_at", "2017-06-07 20:50:05.065041"], ["updated_at", "2017-06-07 20:50:05.065041"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:50:05.067550"], ["updated_at", "2017-06-07 20:50:05.067550"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 8], ["created_at", "2017-06-07 20:50:05.093951"], ["updated_at", "2017-06-07 20:50:05.093951"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 6], ["source_type", "Item"], ["cart_id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["cart_id", 3], ["source_id", 6], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:50:05.107207"], ["updated_at", "2017-06-07 20:50:05.107207"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["cart_id", 2], ["updated_at", "2017-06-07 20:50:05.110989"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::Cart Load (0.1ms)[0m  SELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 6 LIMIT 1[0m  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "shopping_line_items" SET "quantity" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2017-06-07 20:50:05.116914"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mItem Load (0.1ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 9], ["created_at", "2017-06-07 20:50:05.134623"], ["updated_at", "2017-06-07 20:50:05.134623"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:50:05.136723"], ["updated_at", "2017-06-07 20:50:05.136723"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 10], ["created_at", "2017-06-07 20:50:05.138545"], ["updated_at", "2017-06-07 20:50:05.138545"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:50:05.141475"], ["updated_at", "2017-06-07 20:50:05.141475"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 8 LIMIT 1[0m  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "items";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:51:39.690882"], ["updated_at", "2017-06-07 20:51:39.690882"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:51:39.698852"], ["updated_at", "2017-06-07 20:51:39.698852"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 2], ["purchased_at", "2017-06-06 20:51:39.700248"], ["created_at", "2017-06-07 20:51:39.702793"], ["updated_at", "2017-06-07 20:51:39.702793"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2017-06-07 20:51:39.727082"], ["updated_at", "2017-06-07 20:51:39.727082"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:51:39.729252"], ["updated_at", "2017-06-07 20:51:39.729252"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::LineItem Load (0.2ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 2 LIMIT 1  [["cart_id", 1], ["sale_price", 5.0]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 4], ["created_at", "2017-06-07 20:51:39.809981"], ["updated_at", "2017-06-07 20:51:39.809981"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:51:39.812326"], ["updated_at", "2017-06-07 20:51:39.812326"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 5], ["created_at", "2017-06-07 20:51:39.822229"], ["updated_at", "2017-06-07 20:51:39.822229"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:51:39.825104"], ["updated_at", "2017-06-07 20:51:39.825104"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 6], ["created_at", "2017-06-07 20:51:39.834392"], ["updated_at", "2017-06-07 20:51:39.834392"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:51:39.836781"], ["updated_at", "2017-06-07 20:51:39.836781"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 7], ["created_at", "2017-06-07 20:51:39.839230"], ["updated_at", "2017-06-07 20:51:39.839230"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:51:39.842488"], ["updated_at", "2017-06-07 20:51:39.842488"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 8], ["created_at", "2017-06-07 20:51:39.855427"], ["updated_at", "2017-06-07 20:51:39.855427"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 6], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 6], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:51:39.866765"], ["updated_at", "2017-06-07 20:51:39.866765"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:51:39.870833"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.2ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 6 LIMIT 1  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "shopping_line_items" SET "quantity" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["quantity", 5], ["updated_at", "2017-06-07 20:51:39.877749"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 9], ["created_at", "2017-06-07 20:51:39.894656"], ["updated_at", "2017-06-07 20:51:39.894656"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:51:39.896991"], ["updated_at", "2017-06-07 20:51:39.896991"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 10], ["created_at", "2017-06-07 20:51:39.899537"], ["updated_at", "2017-06-07 20:51:39.899537"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:51:39.901463"], ["updated_at", "2017-06-07 20:51:39.901463"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 8 LIMIT 1  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:53:13.448020"], ["updated_at", "2017-06-07 20:53:13.448020"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.453523"], ["updated_at", "2017-06-07 20:53:13.453523"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/v1/line_items" for 127.0.0.1 at 2017-06-07 16:53:13 -0400
Processing by Shopping::LineItemsController#create as HTML
  Parameters: {"data"=>{"attributes"=>{"cart_id"=>1, "source_id"=>1, "source_type"=>"Item"}, "type"=>"line_items"}}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::LineItemsController:0x007fd6cc6c66c8> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:67:in `post'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:16:in `post'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:53:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 33ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 2], ["created_at", "2017-06-07 20:53:13.571635"], ["updated_at", "2017-06-07 20:53:13.571635"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.576140"], ["updated_at", "2017-06-07 20:53:13.576140"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 2], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 2], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:53:13.613817"], ["updated_at", "2017-06-07 20:53:13.613817"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/v1/line_items/1" for 127.0.0.1 at 2017-06-07 16:53:13 -0400
Processing by Shopping::LineItemsController#update as HTML
  Parameters: {"data"=>{"id"=>1, "type"=>"line_items", "attributes"=>{"quantity"=>2}}, "id"=>"1"}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::LineItemsController:0x007fd6cc32d278> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:44:in `update'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:76:in `put'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:20:in `put'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:102:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 29ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 3], ["created_at", "2017-06-07 20:53:13.671435"], ["updated_at", "2017-06-07 20:53:13.671435"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.678212"], ["updated_at", "2017-06-07 20:53:13.678212"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 3], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 3], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:53:13.682298"], ["updated_at", "2017-06-07 20:53:13.682298"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items"[0m
Started DELETE "/api/v1/line_items/1" for 127.0.0.1 at 2017-06-07 16:53:13 -0400
Processing by Shopping::LineItemsController#destroy as HTML
  Parameters: {"id"=>"1"}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::LineItemsController:0x007fd6c9987298> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:48:in `destroy'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:94:in `delete'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:24:in `delete'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:122:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 21ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 4], ["created_at", "2017-06-07 20:53:13.723289"], ["updated_at", "2017-06-07 20:53:13.723289"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.729923"], ["updated_at", "2017-06-07 20:53:13.729923"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 5], ["purchased_at", "2017-06-06 20:53:13.731784"], ["created_at", "2017-06-07 20:53:13.734359"], ["updated_at", "2017-06-07 20:53:13.734359"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 6], ["created_at", "2017-06-07 20:53:13.756683"], ["updated_at", "2017-06-07 20:53:13.756683"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.759141"], ["updated_at", "2017-06-07 20:53:13.759141"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 7], ["created_at", "2017-06-07 20:53:13.770348"], ["updated_at", "2017-06-07 20:53:13.770348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.772948"], ["updated_at", "2017-06-07 20:53:13.772948"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 8], ["created_at", "2017-06-07 20:53:13.784330"], ["updated_at", "2017-06-07 20:53:13.784330"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.787517"], ["updated_at", "2017-06-07 20:53:13.787517"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 9], ["created_at", "2017-06-07 20:53:13.789898"], ["updated_at", "2017-06-07 20:53:13.789898"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.791951"], ["updated_at", "2017-06-07 20:53:13.791951"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 10], ["created_at", "2017-06-07 20:53:13.815328"], ["updated_at", "2017-06-07 20:53:13.815328"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 8], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 8], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:53:13.825099"], ["updated_at", "2017-06-07 20:53:13.825099"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:53:13.827466"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.1ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 8 LIMIT 1  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shopping_line_items" SET "quantity" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["quantity", 5], ["updated_at", "2017-06-07 20:53:13.831301"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.0ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.2ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 11], ["created_at", "2017-06-07 20:53:13.846575"], ["updated_at", "2017-06-07 20:53:13.846575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 9], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.848682"], ["updated_at", "2017-06-07 20:53:13.848682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 12], ["created_at", "2017-06-07 20:53:13.850677"], ["updated_at", "2017-06-07 20:53:13.850677"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 10], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.852646"], ["updated_at", "2017-06-07 20:53:13.852646"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 10 LIMIT 1  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 13], ["created_at", "2017-06-07 20:53:13.875394"], ["updated_at", "2017-06-07 20:53:13.875394"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 11], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.881340"], ["updated_at", "2017-06-07 20:53:13.881340"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."source_id" IS NULL AND "shopping_line_items"."source_type" IS NULL  [["cart_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 14], ["created_at", "2017-06-07 20:53:13.897183"], ["updated_at", "2017-06-07 20:53:13.897183"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 12], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.899055"], ["updated_at", "2017-06-07 20:53:13.899055"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 12], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 12], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 12], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 0], ["cart_id", 1], ["source_id", 12], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:53:13.908952"], ["updated_at", "2017-06-07 20:53:13.908952"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 15], ["created_at", "2017-06-07 20:53:13.919742"], ["updated_at", "2017-06-07 20:53:13.919742"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 13], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.922976"], ["updated_at", "2017-06-07 20:53:13.922976"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" IS NULL[0m  [["source_id", 13], ["source_type", "Item"]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 16], ["created_at", "2017-06-07 20:53:13.938722"], ["updated_at", "2017-06-07 20:53:13.938722"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 14], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.942570"], ["updated_at", "2017-06-07 20:53:13.942570"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 14], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["cart_id", 1], ["source_id", 14], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:53:13.950626"], ["updated_at", "2017-06-07 20:53:13.950626"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 14], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mShopping::LineItem Load (0.6ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["source_id", 14], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 17], ["created_at", "2017-06-07 20:53:13.966026"], ["updated_at", "2017-06-07 20:53:13.966026"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 15], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:13.967872"], ["updated_at", "2017-06-07 20:53:13.967872"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 15], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 15], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:53:13.971313"], ["updated_at", "2017-06-07 20:53:13.971313"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/v1/carts/1" for 127.0.0.1 at 2017-06-07 16:53:13 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"id"=>"1"}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::CartsController:0x007fd6ce247578> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:20:in `show'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:25:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:58:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:12:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/carts_controller_spec.rb:28:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 17ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 18], ["created_at", "2017-06-07 20:53:14.019190"], ["updated_at", "2017-06-07 20:53:14.019190"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 16], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.026856"], ["updated_at", "2017-06-07 20:53:14.026856"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 16], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 16], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:53:14.030241"], ["updated_at", "2017-06-07 20:53:14.030241"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/v1/carts/1?include=line_items" for 127.0.0.1 at 2017-06-07 16:53:14 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"include"=>"line_items", "id"=>"1"}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::CartsController:0x007fd6ce31adb0> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:20:in `show'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:25:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:58:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:12:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/carts_controller_spec.rb:77:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 16ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 19], ["created_at", "2017-06-07 20:53:14.060858"], ["updated_at", "2017-06-07 20:53:14.060858"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 17], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.063924"], ["updated_at", "2017-06-07 20:53:14.063924"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 17], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 17], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:53:14.070719"], ["updated_at", "2017-06-07 20:53:14.070719"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/v1/carts/9999" for 127.0.0.1 at 2017-06-07 16:53:14 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"id"=>"9999"}
Internal Server Error: undefined local variable or method `current_user' for #<Shopping::CartsController:0x007fd6ce322d08> /Users/danhunter/Work/shopping/app/controllers/shopping/api_controller.rb:7:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:20:in `show'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:25:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:58:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:12:in `get'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'
/Users/danhunter/Work/shopping/spec/acceptance/carts_controller_spec.rb:90:in `block (3 levels) in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'
/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'
/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'
Completed 500 Internal Server Error in 13ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 20], ["created_at", "2017-06-07 20:53:14.102031"], ["updated_at", "2017-06-07 20:53:14.102031"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 18], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.113842"], ["updated_at", "2017-06-07 20:53:14.113842"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 21], ["purchased_at", "2017-06-06 20:53:14.116955"], ["created_at", "2017-06-07 20:53:14.117918"], ["updated_at", "2017-06-07 20:53:14.117918"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 22], ["created_at", "2017-06-07 20:53:14.127021"], ["updated_at", "2017-06-07 20:53:14.127021"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 19], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.128935"], ["updated_at", "2017-06-07 20:53:14.128935"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 23], ["created_at", "2017-06-07 20:53:14.130824"], ["updated_at", "2017-06-07 20:53:14.130824"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 19], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["source_id", 19], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 0], ["list_price", 5.0], ["created_at", "2017-06-07 20:53:14.135580"], ["updated_at", "2017-06-07 20:53:14.135580"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 24], ["created_at", "2017-06-07 20:53:14.146975"], ["updated_at", "2017-06-07 20:53:14.146975"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 20], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.149079"], ["updated_at", "2017-06-07 20:53:14.149079"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 25], ["created_at", "2017-06-07 20:53:14.164401"], ["updated_at", "2017-06-07 20:53:14.164401"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 21], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.169954"], ["updated_at", "2017-06-07 20:53:14.169954"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 26], ["created_at", "2017-06-07 20:53:14.184994"], ["updated_at", "2017-06-07 20:53:14.184994"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 22], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.188332"], ["updated_at", "2017-06-07 20:53:14.188332"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 27], ["created_at", "2017-06-07 20:53:14.190310"], ["updated_at", "2017-06-07 20:53:14.190310"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 23], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.192552"], ["updated_at", "2017-06-07 20:53:14.192552"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 23], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["source_id", 23], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 2], ["list_price", 5.0], ["created_at", "2017-06-07 20:53:14.196972"], ["updated_at", "2017-06-07 20:53:14.196972"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mItem Load (0.1ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1  [["id", 23]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (5.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 28], ["created_at", "2017-06-07 20:53:14.215315"], ["updated_at", "2017-06-07 20:53:14.215315"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 24], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.217164"], ["updated_at", "2017-06-07 20:53:14.217164"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 29], ["created_at", "2017-06-07 20:53:14.219763"], ["updated_at", "2017-06-07 20:53:14.219763"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 25], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.222599"], ["updated_at", "2017-06-07 20:53:14.222599"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 30], ["created_at", "2017-06-07 20:53:14.227692"], ["updated_at", "2017-06-07 20:53:14.227692"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 25], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 25], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:53:14.235993"], ["updated_at", "2017-06-07 20:53:14.235993"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:53:14.240205"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.0ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 25], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["source_id", 25], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 31], ["created_at", "2017-06-07 20:53:14.254663"], ["updated_at", "2017-06-07 20:53:14.254663"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 26], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.257206"], ["updated_at", "2017-06-07 20:53:14.257206"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 32], ["created_at", "2017-06-07 20:53:14.259574"], ["updated_at", "2017-06-07 20:53:14.259574"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 27], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:53:14.261338"], ["updated_at", "2017-06-07 20:53:14.261338"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 27], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 27], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 1], ["list_price", 5.0], ["created_at", "2017-06-07 20:53:14.265022"], ["updated_at", "2017-06-07 20:53:14.265022"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.0ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 27]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "items";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:56:54.437540"], ["updated_at", "2017-06-07 20:56:54.437540"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.443795"], ["updated_at", "2017-06-07 20:56:54.443795"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 1], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 1], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:56:54.478291"], ["updated_at", "2017-06-07 20:56:54.478291"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/v1/carts/1?include=line_items" for 127.0.0.1 at 2017-06-07 16:56:54 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"include"=>"line_items", "id"=>"1"}
  [1m[36mShopping::Cart Load (0.4ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ?  ORDER BY "shopping_carts"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mShopping::LineItem Load (0.2ms)[0m  SELECT "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" IN (1)
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered text template (0.0ms)
Could not log "render_template.action_view" event. NoMethodError: undefined method `render_views?' for RSpec::ExampleGroups::Cart::GETApiV1CartsIdIncludeLineItems:Class ["/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:732:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/view_rendering.rb:71:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/subscriber.rb:100:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:36:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:25:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:52:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:14:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:46:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:27:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:100:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/streaming.rb:217:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:83:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:32:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/renderers.rb:37:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/rendering.rb:25:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:16:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:43:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:245:in `render_results'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:20:in `show'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:25:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:58:in `get'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:12:in `get'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'", "/Users/danhunter/Work/shopping/spec/acceptance/carts_controller_spec.rb:77:in `block (3 levels) in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'"]
Completed 200 OK in 109ms (Views: 21.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 2], ["created_at", "2017-06-07 20:56:54.641833"], ["updated_at", "2017-06-07 20:56:54.641833"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.644288"], ["updated_at", "2017-06-07 20:56:54.644288"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 2], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["source_id", 2], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:56:54.648656"], ["updated_at", "2017-06-07 20:56:54.648656"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/v1/carts/9999" for 127.0.0.1 at 2017-06-07 16:56:54 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"id"=>"9999"}
  [1m[35mShopping::Cart Load (0.1ms)[0m  SELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ?  ORDER BY "shopping_carts"."id" ASC LIMIT 1  [["id", 9999]]
Completed 404 Not Found in 13ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 3], ["created_at", "2017-06-07 20:56:54.672088"], ["updated_at", "2017-06-07 20:56:54.672088"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.675427"], ["updated_at", "2017-06-07 20:56:54.675427"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 3], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 3], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:56:54.680252"], ["updated_at", "2017-06-07 20:56:54.680252"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/v1/carts/1" for 127.0.0.1 at 2017-06-07 16:56:54 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mShopping::Cart Load (0.1ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ?  ORDER BY "shopping_carts"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered text template (0.1ms)
Could not log "render_template.action_view" event. NoMethodError: undefined method `render_views?' for RSpec::ExampleGroups::Cart::GETApiV1CartsId:Class ["/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:732:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/view_rendering.rb:71:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/subscriber.rb:100:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:36:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:25:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:52:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:14:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:46:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:27:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:100:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/streaming.rb:217:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:83:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:32:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/renderers.rb:37:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/rendering.rb:25:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:16:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:43:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:245:in `render_results'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:20:in `show'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:25:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:58:in `get'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:12:in `get'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'", "/Users/danhunter/Work/shopping/spec/acceptance/carts_controller_spec.rb:28:in `block (3 levels) in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'"]
Completed 200 OK in 42ms (Views: 9.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 4], ["created_at", "2017-06-07 20:56:54.739167"], ["updated_at", "2017-06-07 20:56:54.739167"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.741523"], ["updated_at", "2017-06-07 20:56:54.741523"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 5], ["created_at", "2017-06-07 20:56:54.755843"], ["updated_at", "2017-06-07 20:56:54.755843"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.758045"], ["updated_at", "2017-06-07 20:56:54.758045"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 6], ["created_at", "2017-06-07 20:56:54.760202"], ["updated_at", "2017-06-07 20:56:54.760202"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 5], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["source_id", 5], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 0], ["list_price", 5.0], ["created_at", "2017-06-07 20:56:54.764216"], ["updated_at", "2017-06-07 20:56:54.764216"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 7], ["created_at", "2017-06-07 20:56:54.804934"], ["updated_at", "2017-06-07 20:56:54.804934"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.807251"], ["updated_at", "2017-06-07 20:56:54.807251"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 8], ["purchased_at", "2017-06-06 20:56:54.808534"], ["created_at", "2017-06-07 20:56:54.811050"], ["updated_at", "2017-06-07 20:56:54.811050"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 9], ["created_at", "2017-06-07 20:56:54.826088"], ["updated_at", "2017-06-07 20:56:54.826088"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.833334"], ["updated_at", "2017-06-07 20:56:54.833334"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 10], ["created_at", "2017-06-07 20:56:54.847987"], ["updated_at", "2017-06-07 20:56:54.847987"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.852492"], ["updated_at", "2017-06-07 20:56:54.852492"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 11], ["created_at", "2017-06-07 20:56:54.855105"], ["updated_at", "2017-06-07 20:56:54.855105"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 9], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.857861"], ["updated_at", "2017-06-07 20:56:54.857861"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 9], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 9], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 1], ["list_price", 5.0], ["created_at", "2017-06-07 20:56:54.863549"], ["updated_at", "2017-06-07 20:56:54.863549"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.2ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 12], ["created_at", "2017-06-07 20:56:54.889404"], ["updated_at", "2017-06-07 20:56:54.889404"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 10], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.896362"], ["updated_at", "2017-06-07 20:56:54.896362"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 13], ["created_at", "2017-06-07 20:56:54.902013"], ["updated_at", "2017-06-07 20:56:54.902013"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 11], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.903839"], ["updated_at", "2017-06-07 20:56:54.903839"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 14], ["created_at", "2017-06-07 20:56:54.906659"], ["updated_at", "2017-06-07 20:56:54.906659"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 11], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 11], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:56:54.909494"], ["updated_at", "2017-06-07 20:56:54.909494"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:56:54.911706"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.2ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 11], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.3ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["source_id", 11], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 15], ["created_at", "2017-06-07 20:56:54.932728"], ["updated_at", "2017-06-07 20:56:54.932728"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 12], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.935927"], ["updated_at", "2017-06-07 20:56:54.935927"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 16], ["created_at", "2017-06-07 20:56:54.939381"], ["updated_at", "2017-06-07 20:56:54.939381"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 13], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.942318"], ["updated_at", "2017-06-07 20:56:54.942318"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 13], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 13], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 2], ["list_price", 5.0], ["created_at", "2017-06-07 20:56:54.952148"], ["updated_at", "2017-06-07 20:56:54.952148"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.0ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 17], ["created_at", "2017-06-07 20:56:54.965692"], ["updated_at", "2017-06-07 20:56:54.965692"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 14], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:54.971073"], ["updated_at", "2017-06-07 20:56:54.971073"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."source_id" IS NULL AND "shopping_line_items"."source_type" IS NULL[0m  [["cart_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 18], ["created_at", "2017-06-07 20:56:54.997805"], ["updated_at", "2017-06-07 20:56:54.997805"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 15], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.000530"], ["updated_at", "2017-06-07 20:56:55.000530"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" IS NULL  [["source_id", 15], ["source_type", "Item"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 19], ["created_at", "2017-06-07 20:56:55.014368"], ["updated_at", "2017-06-07 20:56:55.014368"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 16], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.021052"], ["updated_at", "2017-06-07 20:56:55.021052"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 16], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 16], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 16], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 0], ["cart_id", 1], ["source_id", 16], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:56:55.029624"], ["updated_at", "2017-06-07 20:56:55.029624"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 20], ["created_at", "2017-06-07 20:56:55.050563"], ["updated_at", "2017-06-07 20:56:55.050563"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 17], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.052616"], ["updated_at", "2017-06-07 20:56:55.052616"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 17], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 1], ["source_id", 17], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:56:55.057853"], ["updated_at", "2017-06-07 20:56:55.057853"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 17], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["source_id", 17], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 21], ["created_at", "2017-06-07 20:56:55.079912"], ["updated_at", "2017-06-07 20:56:55.079912"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 18], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.083108"], ["updated_at", "2017-06-07 20:56:55.083108"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/v1/line_items" for 127.0.0.1 at 2017-06-07 16:56:55 -0400
Processing by Shopping::LineItemsController#create as HTML
  Parameters: {"data"=>{"attributes"=>{"cart_id"=>1, "source_id"=>18, "source_type"=>"Item"}, "type"=>"line_items"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 18], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 1], ["source_id", 18], ["source_type", "Item"], ["created_at", "2017-06-07 20:56:55.108431"], ["updated_at", "2017-06-07 20:56:55.108431"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1  [["id", 18]]
  Rendered text template (0.0ms)
Could not log "render_template.action_view" event. NoMethodError: undefined method `render_views?' for RSpec::ExampleGroups::LineItem::POSTApiV1LineItems:Class ["/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:732:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/view_rendering.rb:71:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/subscriber.rb:100:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:36:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:25:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:52:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:14:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:46:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:27:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:100:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/streaming.rb:217:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:83:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:32:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/renderers.rb:37:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/rendering.rb:25:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:16:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:43:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:245:in `render_results'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:67:in `post'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:16:in `post'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'", "/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:53:in `block (3 levels) in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'"]
Completed 201 Created in 51ms (Views: 9.5ms | ActiveRecord: 1.2ms)
  [1m[36mShopping::LineItem Load (0.2ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items"  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items"  ORDER BY "shopping_line_items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_carts"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (6.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 22], ["created_at", "2017-06-07 20:56:55.171651"], ["updated_at", "2017-06-07 20:56:55.171651"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 19], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.178904"], ["updated_at", "2017-06-07 20:56:55.178904"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 19], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["source_id", 19], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:56:55.189077"], ["updated_at", "2017-06-07 20:56:55.189077"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items"
Started DELETE "/api/v1/line_items/1" for 127.0.0.1 at 2017-06-07 16:56:55 -0400
Processing by Shopping::LineItemsController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mShopping::LineItem Load (0.9ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "shopping_line_items" WHERE "shopping_line_items"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  Rendered text template (0.0ms)
Could not log "render_template.action_view" event. NoMethodError: undefined method `render_views?' for RSpec::ExampleGroups::LineItem::DELETEApiV1LineItemsId:Class ["/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:732:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/view_rendering.rb:71:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/subscriber.rb:100:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:36:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:25:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:52:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:14:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:46:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:27:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:100:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/streaming.rb:217:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:83:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:32:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/renderers.rb:37:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/rendering.rb:25:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:16:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:43:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:245:in `render_results'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:48:in `destroy'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:94:in `delete'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:24:in `delete'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'", "/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:122:in `block (3 levels) in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'"]
Completed 204 No Content in 16ms (Views: 5.9ms | ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 23], ["created_at", "2017-06-07 20:56:55.219453"], ["updated_at", "2017-06-07 20:56:55.219453"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 20], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.223007"], ["updated_at", "2017-06-07 20:56:55.223007"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 20], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["source_id", 20], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-07 20:56:55.232980"], ["updated_at", "2017-06-07 20:56:55.232980"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/v1/line_items/1" for 127.0.0.1 at 2017-06-07 16:56:55 -0400
Processing by Shopping::LineItemsController#update as HTML
  Parameters: {"data"=>{"id"=>1, "type"=>"line_items", "attributes"=>{"quantity"=>2}}, "id"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "shopping_line_items" SET "quantity" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["quantity", 2], ["updated_at", "2017-06-07 20:56:55.240892"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mItem Load (0.2ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1  [["id", 20]]
  Rendered text template (0.0ms)
Could not log "render_template.action_view" event. NoMethodError: undefined method `render_views?' for RSpec::ExampleGroups::LineItem::PUTApiV1LineItemsId:Class ["/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:732:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/view_rendering.rb:71:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/subscriber.rb:100:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:36:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:25:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:52:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:14:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:46:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:27:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:100:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/streaming.rb:217:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:83:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:32:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/renderers.rb:37:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/rendering.rb:25:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:16:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:43:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:245:in `render_results'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:44:in `update'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:76:in `put'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:20:in `put'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'", "/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:102:in `block (3 levels) in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'"]
Completed 200 OK in 50ms (Views: 6.2ms | ActiveRecord: 0.5ms)
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_carts"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (4.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 24], ["created_at", "2017-06-07 20:56:55.304683"], ["updated_at", "2017-06-07 20:56:55.304683"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 21], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.306863"], ["updated_at", "2017-06-07 20:56:55.306863"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 25], ["created_at", "2017-06-07 20:56:55.315447"], ["updated_at", "2017-06-07 20:56:55.315447"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 22], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.320333"], ["updated_at", "2017-06-07 20:56:55.320333"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 26], ["created_at", "2017-06-07 20:56:55.344886"], ["updated_at", "2017-06-07 20:56:55.344886"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 23], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.348885"], ["updated_at", "2017-06-07 20:56:55.348885"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 27], ["purchased_at", "2017-06-06 20:56:55.352065"], ["created_at", "2017-06-07 20:56:55.353361"], ["updated_at", "2017-06-07 20:56:55.353361"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 28], ["created_at", "2017-06-07 20:56:55.363186"], ["updated_at", "2017-06-07 20:56:55.363186"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 24], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.366156"], ["updated_at", "2017-06-07 20:56:55.366156"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 29], ["created_at", "2017-06-07 20:56:55.368937"], ["updated_at", "2017-06-07 20:56:55.368937"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 25], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.374960"], ["updated_at", "2017-06-07 20:56:55.374960"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 25 LIMIT 1  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 30], ["created_at", "2017-06-07 20:56:55.385855"], ["updated_at", "2017-06-07 20:56:55.385855"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 26], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.390669"], ["updated_at", "2017-06-07 20:56:55.390669"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 31], ["created_at", "2017-06-07 20:56:55.396467"], ["updated_at", "2017-06-07 20:56:55.396467"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 27], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:56:55.403395"], ["updated_at", "2017-06-07 20:56:55.403395"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 32], ["created_at", "2017-06-07 20:56:55.406973"], ["updated_at", "2017-06-07 20:56:55.406973"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 27], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 27], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:56:55.413814"], ["updated_at", "2017-06-07 20:56:55.413814"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:56:55.421828"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.1ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 27 LIMIT 1  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shopping_line_items" SET "quantity" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["quantity", 5], ["updated_at", "2017-06-07 20:56:55.426103"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.0ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.0ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 27]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "items";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.4ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.4ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:57:10.283197"], ["updated_at", "2017-06-07 20:57:10.283197"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:10.293008"], ["updated_at", "2017-06-07 20:57:10.293008"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 2], ["created_at", "2017-06-07 20:57:10.295357"], ["updated_at", "2017-06-07 20:57:10.295357"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 1], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 1], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 0], ["list_price", 5.0], ["created_at", "2017-06-07 20:57:10.322757"], ["updated_at", "2017-06-07 20:57:10.322757"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2017-06-07 20:57:10.351439"], ["updated_at", "2017-06-07 20:57:10.351439"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:10.353780"], ["updated_at", "2017-06-07 20:57:10.353780"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 4], ["created_at", "2017-06-07 20:57:10.366426"], ["updated_at", "2017-06-07 20:57:10.366426"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:10.368609"], ["updated_at", "2017-06-07 20:57:10.368609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 5], ["purchased_at", "2017-06-06 20:57:10.370160"], ["created_at", "2017-06-07 20:57:10.371304"], ["updated_at", "2017-06-07 20:57:10.371304"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 6], ["created_at", "2017-06-07 20:57:10.379673"], ["updated_at", "2017-06-07 20:57:10.379673"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:10.381853"], ["updated_at", "2017-06-07 20:57:10.381853"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 7], ["created_at", "2017-06-07 20:57:10.393046"], ["updated_at", "2017-06-07 20:57:10.393046"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:10.395272"], ["updated_at", "2017-06-07 20:57:10.395272"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 8], ["created_at", "2017-06-07 20:57:10.397489"], ["updated_at", "2017-06-07 20:57:10.397489"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:10.399189"], ["updated_at", "2017-06-07 20:57:10.399189"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 9], ["created_at", "2017-06-07 20:57:10.402442"], ["updated_at", "2017-06-07 20:57:10.402442"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 6], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 6], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:57:10.408598"], ["updated_at", "2017-06-07 20:57:10.408598"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:57:10.411105"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.1ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 6], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["source_id", 6], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 10], ["created_at", "2017-06-07 20:57:10.429491"], ["updated_at", "2017-06-07 20:57:10.429491"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:10.431783"], ["updated_at", "2017-06-07 20:57:10.431783"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 11], ["created_at", "2017-06-07 20:57:10.434598"], ["updated_at", "2017-06-07 20:57:10.434598"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:10.439772"], ["updated_at", "2017-06-07 20:57:10.439772"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 8], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 8], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 2], ["list_price", 5.0], ["created_at", "2017-06-07 20:57:10.447052"], ["updated_at", "2017-06-07 20:57:10.447052"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.0ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 12], ["created_at", "2017-06-07 20:57:10.460290"], ["updated_at", "2017-06-07 20:57:10.460290"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 9], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:10.463020"], ["updated_at", "2017-06-07 20:57:10.463020"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 13], ["created_at", "2017-06-07 20:57:10.465509"], ["updated_at", "2017-06-07 20:57:10.465509"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 10], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:10.467508"], ["updated_at", "2017-06-07 20:57:10.467508"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 10], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 10], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 1], ["list_price", 5.0], ["created_at", "2017-06-07 20:57:10.476879"], ["updated_at", "2017-06-07 20:57:10.476879"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mShopping::LineItem Load (0.0ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "items";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-07 20:57:29.118213"], ["updated_at", "2017-06-07 20:57:29.118213"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:29.128984"], ["updated_at", "2017-06-07 20:57:29.128984"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 2], ["created_at", "2017-06-07 20:57:29.157611"], ["updated_at", "2017-06-07 20:57:29.157611"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:29.160727"], ["updated_at", "2017-06-07 20:57:29.160727"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 3], ["purchased_at", "2017-06-06 20:57:29.162200"], ["created_at", "2017-06-07 20:57:29.163247"], ["updated_at", "2017-06-07 20:57:29.163247"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 4], ["created_at", "2017-06-07 20:57:29.172129"], ["updated_at", "2017-06-07 20:57:29.172129"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:29.174641"], ["updated_at", "2017-06-07 20:57:29.174641"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 5], ["created_at", "2017-06-07 20:57:29.184710"], ["updated_at", "2017-06-07 20:57:29.184710"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:29.188241"], ["updated_at", "2017-06-07 20:57:29.188241"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 6], ["created_at", "2017-06-07 20:57:29.191659"], ["updated_at", "2017-06-07 20:57:29.191659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:29.193985"], ["updated_at", "2017-06-07 20:57:29.193985"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 5], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 5], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 1], ["list_price", 5.0], ["created_at", "2017-06-07 20:57:29.240347"], ["updated_at", "2017-06-07 20:57:29.240347"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 7], ["created_at", "2017-06-07 20:57:29.258879"], ["updated_at", "2017-06-07 20:57:29.258879"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:29.261240"], ["updated_at", "2017-06-07 20:57:29.261240"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 8], ["created_at", "2017-06-07 20:57:29.263650"], ["updated_at", "2017-06-07 20:57:29.263650"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:29.265825"], ["updated_at", "2017-06-07 20:57:29.265825"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 7], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["source_id", 7], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 2], ["list_price", 5.0], ["created_at", "2017-06-07 20:57:29.270157"], ["updated_at", "2017-06-07 20:57:29.270157"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mItem Load (0.1ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 9], ["created_at", "2017-06-07 20:57:29.283591"], ["updated_at", "2017-06-07 20:57:29.283591"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:29.285939"], ["updated_at", "2017-06-07 20:57:29.285939"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 10], ["created_at", "2017-06-07 20:57:29.288520"], ["updated_at", "2017-06-07 20:57:29.288520"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 9], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-07 20:57:29.291297"], ["updated_at", "2017-06-07 20:57:29.291297"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 11], ["created_at", "2017-06-07 20:57:29.295544"], ["updated_at", "2017-06-07 20:57:29.295544"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 9], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 9], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-07 20:57:29.300392"], ["updated_at", "2017-06-07 20:57:29.300392"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-07 20:57:29.306349"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.1ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 9], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["source_id", 9], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'items';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "shopping_carts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'shopping_carts';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "shopping_line_items";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'shopping_line_items';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2017-06-08 15:17:28.949690"], ["updated_at", "2017-06-08 15:17:28.949690"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 1], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:28.957186"], ["updated_at", "2017-06-08 15:17:28.957186"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 2], ["created_at", "2017-06-08 15:17:28.984884"], ["updated_at", "2017-06-08 15:17:28.984884"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 2], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:28.987686"], ["updated_at", "2017-06-08 15:17:28.987686"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 3], ["created_at", "2017-06-08 15:17:29.000950"], ["updated_at", "2017-06-08 15:17:29.000950"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 3], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.005201"], ["updated_at", "2017-06-08 15:17:29.005201"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 4], ["purchased_at", "2017-06-07 15:17:29.007100"], ["created_at", "2017-06-08 15:17:29.010857"], ["updated_at", "2017-06-08 15:17:29.010857"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 5], ["created_at", "2017-06-08 15:17:29.022089"], ["updated_at", "2017-06-08 15:17:29.022089"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 4], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.025558"], ["updated_at", "2017-06-08 15:17:29.025558"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 6], ["created_at", "2017-06-08 15:17:29.031773"], ["updated_at", "2017-06-08 15:17:29.031773"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 5], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.033906"], ["updated_at", "2017-06-08 15:17:29.033906"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::LineItem Load (0.3ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 5 LIMIT 1  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 7], ["created_at", "2017-06-08 15:17:29.070383"], ["updated_at", "2017-06-08 15:17:29.070383"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 6], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.074302"], ["updated_at", "2017-06-08 15:17:29.074302"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 8], ["created_at", "2017-06-08 15:17:29.076519"], ["updated_at", "2017-06-08 15:17:29.076519"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 7], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.079400"], ["updated_at", "2017-06-08 15:17:29.079400"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 9], ["created_at", "2017-06-08 15:17:29.092601"], ["updated_at", "2017-06-08 15:17:29.092601"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 7], ["source_type", "Item"], ["cart_id", 3]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 3], ["source_id", 7], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-08 15:17:29.105530"], ["updated_at", "2017-06-08 15:17:29.105530"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?[0m  [["cart_id", 2], ["updated_at", "2017-06-08 15:17:29.109390"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mShopping::Cart Load (0.2ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mShopping::LineItem Load (0.2ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."sale_price" = ? AND "shopping_line_items"."source_type" = 'Item' AND "shopping_line_items"."source_id" = 7 LIMIT 1  [["cart_id", 2], ["sale_price", 5.0]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shopping_line_items" SET "quantity" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["quantity", 5], ["updated_at", "2017-06-08 15:17:29.116629"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 10], ["created_at", "2017-06-08 15:17:29.133809"], ["updated_at", "2017-06-08 15:17:29.133809"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 8], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.135928"], ["updated_at", "2017-06-08 15:17:29.135928"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/v1/line_items" for 127.0.0.1 at 2017-06-08 11:17:29 -0400
Processing by Shopping::LineItemsController#create as HTML
  Parameters: {"data"=>{"attributes"=>{"cart_id"=>1, "source_id"=>8, "source_type"=>"Item"}, "type"=>"line_items"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 8], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["quantity", 1], ["cart_id", 1], ["source_id", 8], ["source_type", "Item"], ["created_at", "2017-06-08 15:17:29.176279"], ["updated_at", "2017-06-08 15:17:29.176279"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1  [["id", 8]]
  Rendered text template (0.0ms)
Could not log "render_template.action_view" event. NoMethodError: undefined method `render_views?' for RSpec::ExampleGroups::LineItem::POSTApiV1LineItems:Class ["/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:732:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/view_rendering.rb:71:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/subscriber.rb:100:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:36:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:25:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:52:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:14:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:46:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:27:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:100:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/streaming.rb:217:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:83:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:32:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/renderers.rb:37:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/rendering.rb:25:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:16:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:43:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:245:in `render_results'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:67:in `post'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:16:in `post'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'", "/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:53:in `block (3 levels) in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'"]
Completed 201 Created in 49ms (Views: 20.4ms | ActiveRecord: 0.7ms)
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items"  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items"  ORDER BY "shopping_line_items"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_carts"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 11], ["created_at", "2017-06-08 15:17:29.232535"], ["updated_at", "2017-06-08 15:17:29.232535"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 9], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.234397"], ["updated_at", "2017-06-08 15:17:29.234397"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 9], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["source_id", 9], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-08 15:17:29.239530"], ["updated_at", "2017-06-08 15:17:29.239530"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items"
Started DELETE "/api/v1/line_items/1" for 127.0.0.1 at 2017-06-08 11:17:29 -0400
Processing by Shopping::LineItemsController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shopping_line_items" WHERE "shopping_line_items"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  Rendered text template (0.0ms)
Could not log "render_template.action_view" event. NoMethodError: undefined method `render_views?' for RSpec::ExampleGroups::LineItem::DELETEApiV1LineItemsId:Class ["/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:732:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/view_rendering.rb:71:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/subscriber.rb:100:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:36:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:25:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:52:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:14:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:46:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:27:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:100:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/streaming.rb:217:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:83:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:32:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/renderers.rb:37:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/rendering.rb:25:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:16:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:43:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:245:in `render_results'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:48:in `destroy'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:94:in `delete'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:24:in `delete'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'", "/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:122:in `block (3 levels) in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'"]
Completed 204 No Content in 10ms (Views: 5.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 12], ["created_at", "2017-06-08 15:17:29.265434"], ["updated_at", "2017-06-08 15:17:29.265434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 10], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.268089"], ["updated_at", "2017-06-08 15:17:29.268089"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 10], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["source_id", 10], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-08 15:17:29.271961"], ["updated_at", "2017-06-08 15:17:29.271961"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/v1/line_items/1" for 127.0.0.1 at 2017-06-08 11:17:29 -0400
Processing by Shopping::LineItemsController#update as HTML
  Parameters: {"data"=>{"id"=>1, "type"=>"line_items", "attributes"=>{"quantity"=>2}}, "id"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mShopping::LineItem Load (0.2ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "shopping_line_items" SET "quantity" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["quantity", 2], ["updated_at", "2017-06-08 15:17:29.281723"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1  [["id", 10]]
  Rendered text template (0.0ms)
Could not log "render_template.action_view" event. NoMethodError: undefined method `render_views?' for RSpec::ExampleGroups::LineItem::PUTApiV1LineItemsId:Class ["/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:732:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/view_rendering.rb:71:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/subscriber.rb:100:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:36:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:25:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:52:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:14:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:46:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:27:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:100:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/streaming.rb:217:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:83:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:32:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/renderers.rb:37:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/rendering.rb:25:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:16:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:43:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:245:in `render_results'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:44:in `update'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:38:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:76:in `put'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:20:in `put'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'", "/Users/danhunter/Work/shopping/spec/acceptance/line_items_controller_spec.rb:102:in `block (3 levels) in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'"]
Completed 200 OK in 36ms (Views: 5.7ms | ActiveRecord: 0.4ms)
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_carts"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 13], ["created_at", "2017-06-08 15:17:29.326520"], ["updated_at", "2017-06-08 15:17:29.326520"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 11], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.328661"], ["updated_at", "2017-06-08 15:17:29.328661"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 11], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 11], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 11], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 0], ["cart_id", 1], ["source_id", 11], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-08 15:17:29.335961"], ["updated_at", "2017-06-08 15:17:29.335961"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 14], ["created_at", "2017-06-08 15:17:29.345649"], ["updated_at", "2017-06-08 15:17:29.345649"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 12], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.348239"], ["updated_at", "2017-06-08 15:17:29.348239"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" IS NULL  [["source_id", 12], ["source_type", "Item"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 15], ["created_at", "2017-06-08 15:17:29.365379"], ["updated_at", "2017-06-08 15:17:29.365379"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 13], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.368805"], ["updated_at", "2017-06-08 15:17:29.368805"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ? AND "shopping_line_items"."source_id" IS NULL AND "shopping_line_items"."source_type" IS NULL[0m  [["cart_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 16], ["created_at", "2017-06-08 15:17:29.389640"], ["updated_at", "2017-06-08 15:17:29.389640"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 14], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.392427"], ["updated_at", "2017-06-08 15:17:29.392427"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 14], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["cart_id", 1], ["source_id", 14], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-08 15:17:29.400658"], ["updated_at", "2017-06-08 15:17:29.400658"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 14], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mShopping::LineItem Load (0.4ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["source_id", 14], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 17], ["created_at", "2017-06-08 15:17:29.423167"], ["updated_at", "2017-06-08 15:17:29.423167"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 15], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.428283"], ["updated_at", "2017-06-08 15:17:29.428283"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (3.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 18], ["created_at", "2017-06-08 15:17:29.443791"], ["updated_at", "2017-06-08 15:17:29.443791"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 16], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.446311"], ["updated_at", "2017-06-08 15:17:29.446311"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "purchased_at", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 19], ["purchased_at", "2017-06-07 15:17:29.447630"], ["created_at", "2017-06-08 15:17:29.448691"], ["updated_at", "2017-06-08 15:17:29.448691"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 20], ["created_at", "2017-06-08 15:17:29.463145"], ["updated_at", "2017-06-08 15:17:29.463145"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 17], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.467947"], ["updated_at", "2017-06-08 15:17:29.467947"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 21], ["created_at", "2017-06-08 15:17:29.488814"], ["updated_at", "2017-06-08 15:17:29.488814"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 18], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.493444"], ["updated_at", "2017-06-08 15:17:29.493444"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 22], ["created_at", "2017-06-08 15:17:29.496196"], ["updated_at", "2017-06-08 15:17:29.496196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 19], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.499854"], ["updated_at", "2017-06-08 15:17:29.499854"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 19], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["source_id", 19], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 2], ["list_price", 5.0], ["created_at", "2017-06-08 15:17:29.504051"], ["updated_at", "2017-06-08 15:17:29.504051"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.1ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 23], ["created_at", "2017-06-08 15:17:29.516325"], ["updated_at", "2017-06-08 15:17:29.516325"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 20], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.523970"], ["updated_at", "2017-06-08 15:17:29.523970"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 24], ["created_at", "2017-06-08 15:17:29.526038"], ["updated_at", "2017-06-08 15:17:29.526038"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 21], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.530767"], ["updated_at", "2017-06-08 15:17:29.530767"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 25], ["created_at", "2017-06-08 15:17:29.537594"], ["updated_at", "2017-06-08 15:17:29.537594"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 21], ["source_type", "Item"], ["cart_id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "cart_id", "source_id", "source_type", "list_price", "sale_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["cart_id", 3], ["source_id", 21], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["created_at", "2017-06-08 15:17:29.548748"], ["updated_at", "2017-06-08 15:17:29.548748"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shopping_line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "shopping_line_items"."id" = ?  [["cart_id", 2], ["updated_at", "2017-06-08 15:17:29.550869"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35mShopping::Cart Load (0.0ms)[0m  SELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 21], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["source_id", 21], ["source_type", "Item"], ["cart_id", 2]]
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 26], ["created_at", "2017-06-08 15:17:29.568444"], ["updated_at", "2017-06-08 15:17:29.568444"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 22], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.571204"], ["updated_at", "2017-06-08 15:17:29.571204"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 27], ["created_at", "2017-06-08 15:17:29.573615"], ["updated_at", "2017-06-08 15:17:29.573615"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 23], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.575477"], ["updated_at", "2017-06-08 15:17:29.575477"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 23], ["source_type", "Item"], ["cart_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shopping_line_items" ("source_id", "source_type", "sale_price", "cart_id", "quantity", "list_price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["source_id", 23], ["source_type", "Item"], ["sale_price", 5.0], ["cart_id", 2], ["quantity", 1], ["list_price", 5.0], ["created_at", "2017-06-08 15:17:29.580562"], ["updated_at", "2017-06-08 15:17:29.580562"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  [1m[35mShopping::LineItem Load (0.0ms)[0m  SELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1  [["cart_id", 2]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35mItem Load (0.1ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1  [["id", 23]]
  [1m[36mShopping::LineItem Load (0.1ms)[0m  [1mSELECT  "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" = ?  ORDER BY "shopping_line_items"."id" ASC LIMIT 1[0m  [["cart_id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 28], ["created_at", "2017-06-08 15:17:29.604341"], ["updated_at", "2017-06-08 15:17:29.604341"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 24], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.614289"], ["updated_at", "2017-06-08 15:17:29.614289"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 24], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["source_id", 24], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-08 15:17:29.619228"], ["updated_at", "2017-06-08 15:17:29.619228"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/v1/carts/9999" for 127.0.0.1 at 2017-06-08 11:17:29 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"id"=>"9999"}
  [1m[35mShopping::Cart Load (0.2ms)[0m  SELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ?  ORDER BY "shopping_carts"."id" ASC LIMIT 1  [["id", 9999]]
Completed 404 Not Found in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 29], ["created_at", "2017-06-08 15:17:29.658065"], ["updated_at", "2017-06-08 15:17:29.658065"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["id", 25], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.664504"], ["updated_at", "2017-06-08 15:17:29.664504"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?  [["source_id", 25], ["source_type", "Item"], ["cart_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["quantity", 1], ["source_id", 25], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-08 15:17:29.682505"], ["updated_at", "2017-06-08 15:17:29.682505"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/v1/carts/1?include=line_items" for 127.0.0.1 at 2017-06-08 11:17:29 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"include"=>"line_items", "id"=>"1"}
  [1m[36mShopping::Cart Load (0.2ms)[0m  [1mSELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ?  ORDER BY "shopping_carts"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mShopping::LineItem Load (0.3ms)[0m  SELECT "shopping_line_items".* FROM "shopping_line_items" WHERE "shopping_line_items"."cart_id" IN (1)
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = ? LIMIT 1[0m  [["id", 25]]
  Rendered text template (0.0ms)
Could not log "render_template.action_view" event. NoMethodError: undefined method `render_views?' for RSpec::ExampleGroups::Cart::GETApiV1CartsIdIncludeLineItems:Class ["/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:732:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/view_rendering.rb:71:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/subscriber.rb:100:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:36:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:25:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:52:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:14:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:46:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:27:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:100:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/streaming.rb:217:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:83:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:32:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/renderers.rb:37:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/rendering.rb:25:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:16:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:43:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:245:in `render_results'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:20:in `show'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:25:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:58:in `get'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:12:in `get'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'", "/Users/danhunter/Work/shopping/spec/acceptance/carts_controller_spec.rb:77:in `block (3 levels) in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'"]
Completed 200 OK in 95ms (Views: 9.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shopping_carts" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 30], ["created_at", "2017-06-08 15:17:29.793105"], ["updated_at", "2017-06-08 15:17:29.793105"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("id", "sku", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["id", 26], ["sku", "IMASKU"], ["price", 5.0], ["created_at", "2017-06-08 15:17:29.795282"], ["updated_at", "2017-06-08 15:17:29.795282"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shopping_line_items" WHERE "shopping_line_items"."source_id" = ? AND "shopping_line_items"."source_type" = ? AND "shopping_line_items"."cart_id" = ?[0m  [["source_id", 26], ["source_type", "Item"], ["cart_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shopping_line_items" ("quantity", "source_id", "source_type", "list_price", "sale_price", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["quantity", 1], ["source_id", 26], ["source_type", "Item"], ["list_price", 5.0], ["sale_price", 5.0], ["cart_id", 1], ["created_at", "2017-06-08 15:17:29.799746"], ["updated_at", "2017-06-08 15:17:29.799746"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/v1/carts/1" for 127.0.0.1 at 2017-06-08 11:17:29 -0400
Processing by Shopping::CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mShopping::Cart Load (0.1ms)[0m  SELECT  "shopping_carts".* FROM "shopping_carts" WHERE "shopping_carts"."id" = ?  ORDER BY "shopping_carts"."id" ASC LIMIT 1  [["id", 1]]
  Rendered text template (0.0ms)
Could not log "render_template.action_view" event. NoMethodError: undefined method `render_views?' for RSpec::ExampleGroups::Cart::GETApiV1CartsId:Class ["/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:732:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/view_rendering.rb:71:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/subscriber.rb:100:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/log_subscriber.rb:83:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:102:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `block in finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/fanout.rb:46:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:36:in `finish'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:25:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:52:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/template_renderer.rb:14:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:46:in `render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/renderer/renderer.rb:27:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:100:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/streaming.rb:217:in `_render_template'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:83:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:32:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/renderers.rb:37:in `render_to_body'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/rendering.rb:25:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:16:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/core_ext/benchmark.rb:12:in `ms'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:44:in `block in render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:43:in `render'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:245:in `render_results'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/jsonapi-resources-0.9.0/lib/jsonapi/acts_as_resource_controller.rb:20:in `show'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:198:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rendering.rb:10:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:20:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:117:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:505:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:92:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/callbacks.rb:19:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rescue.rb:29:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `block in instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/notifications.rb:164:in `instrument'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/abstract_controller/base.rb:137:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionview-4.2.8/lib/action_view/rendering.rb:30:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:196:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_controller/metal.rb:237:in `block in action'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:74:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:43:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `public_send'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/railtie.rb:194:in `method_missing'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/mapper.rb:51:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:43:in `block in serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `each'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/journey/router.rb:30:in `serve'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/routing/route_set.rb:817:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/etag.rb:24:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/conditionalget.rb:25:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/head.rb:13:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/params_parser.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/flash.rb:260:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:225:in `context'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/session/abstract/id.rb:220:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/cookies.rb:560:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/query_cache.rb:36:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activerecord-4.2.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:88:in `__run_callbacks__'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:778:in `_run_call_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/callbacks.rb:81:in `run_callbacks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/callbacks.rb:27:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/remote_ip.rb:78:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:38:in `call_app'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `block in call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `block in tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:26:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/tagged_logging.rb:68:in `tagged'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/rack/logger.rb:20:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/request_id.rb:21:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/methodoverride.rb:22:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/runtime.rb:18:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/activesupport-4.2.8/lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/lock.rb:17:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/static.rb:120:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-1.6.8/lib/rack/sendfile.rb:113:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/engine.rb:518:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-4.2.8/lib/rails/application.rb:165:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/mock_session.rb:30:in `request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:244:in `process_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rack-test-0.6.3/lib/rack/test.rb:58:in `get'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/rack_test_client.rb:38:in `do_request'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:42:in `process'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/client_base.rb:12:in `get'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec_api_documentation-4.9.0/lib/rspec_api_documentation/dsl/endpoint.rb:59:in `do_request'", "/Users/danhunter/Work/shopping/spec/acceptance/carts_controller_spec.rb:28:in `block (3 levels) in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:254:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-rails-3.6.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:447:in `instance_exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:375:in `execute_with'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:342:in `call'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/hooks.rb:464:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:457:in `with_around_example_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example.rb:251:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:627:in `block in run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:623:in `run_examples'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:589:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `block in run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/example_group.rb:590:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `map'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/configuration.rb:1894:in `with_suite_hooks'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:113:in `block in run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/reporter.rb:79:in `report'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:112:in `run_specs'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:87:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:71:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/lib/rspec/core/runner.rb:45:in `invoke'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rspec-core-3.6.0/exe/rspec:4:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/rspec:22:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:74:in `kernel_load'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli/exec.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:335:in `exec'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:20:in `dispatch'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/cli.rb:11:in `start'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:32:in `block in <top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'", "/Users/danhunter/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/bundler-1.14.5/exe/bundle:24:in `<top (required)>'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `load'", "/Users/danhunter/.rbenv/versions/2.4.0/bin/bundle:22:in `<main>'"]
Completed 200 OK in 36ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
